<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/allCss.css}" />
    <link rel="stylesheet" th:href="@{/css/boardWriteForm.css}" />
    <link rel="stylesheet" th:href="@{/css/hamburger.css}" />
    <link rel="icon" href="/img/realLogo.png">
    <title>ê²Œì‹œê¸€ ì‘ì„±í•˜ê¸°</title>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
</head>
<style>
    /* ë…¸íŠ¸ ëª¨ë‹¬ì°½ */
    .note-modal-content {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
</style>
<body>
    <div class="wrapper">
        <div class="welcome">
            <p th:text="${session.memberNick} + 'ë‹˜, Mini Game Worldì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.ğŸ±â€ğŸ‰'"></p>
        </div>
        <div class="header">
            <nav role="navigation">
                <div id="menuToggle">
                    <!-- í–„ë²„ê±° ëª¨ì–‘ -->
                    <input type="checkbox" />
                    <div class="burger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>

                    <ul id="menu">
                        <a th:href="@{/main}">
                            <li>Home</li>
                        </a>
                        <a th:href="@{/boardList}">
                            <li>Community</li>
                        </a>
                        <a th:href="@{/myPage}">
                            <li>My Page</li>
                        </a>
                        <a th:href="@{/QnAPage}">
                            <li>Q&A</li>
                        </a>
                        <a th:href="@{/aboutUs}">
                            <li>About Us</li>
                        </a>
                    </ul>
                </div>
            </nav>
            <div class="logo">

                <a th:href="@{/main}">
                    <img class="logoImg" th:src="@{img/logo.png}" alt="">
                </a>
            </div>
            <div class="top-nav">
                <ul class="top-nav-ul">
                    <li class="top-nav-li"><a th:href="@{/main}">Home</a></li>
                    <li class="top-nav-li"><a th:href="@{/boardList}">Community</a></li>
                    <li class="top-nav-li"><a th:href="@{/myPage}">My Page</a></li>
                    <li class="top-nav-li"><a th:href="@{/QnAPage}">Q&A</a></li>
                    <li class="top-nav-li"><a th:href="@{/aboutUs}">About Us</a></li>
                    <li class="drop-top-nav-li"><a href="#">Account</a>
                        <ul class="drop-ul">
                            <li><a th:href="@{/logout}" onclick="logout(event)">logout</a></li>
                            <li><a href="#"><img class="imgicon" th:src="@{img/ì„¤ì •.png}">ì„¤ì •</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!-- header ë -->
        <div class="board-list-section">
            <form method="post" action="/saveWriteBoard">
                <div class="btns">
                    <h3 class="formText">ê²Œì‹œê¸€ ì‘ì„±í•˜ê¸°</h3>
                    <button type="submit" class="btn btn--stripe">ê¸€ ì˜¬ë¦¬ê¸°</button>
                    <button onclick="window.location.href='/boardList'" class="btn btn--stripe">ëª©ë¡ ë³´ê¸°</button>
                </div>

                <table style="display: block;">
                    <colgroup>
                        <col style="width: 15%;">
                        <col style="width: 35%;">
                        <col style="width: 15%;">
                        <col style="width: 35%;">
                    </colgroup>
                    <tr>
                        <th>ì œëª©</th>
                        <td colspan="1"><input type="text" class="input_title" name="boardTitle" placeholder="Title" required></td>
                        <th>ì‘ì„±ì</th>
                        <td colspan="1"><input type="text" class="input_writer" name="memberNick" th:value="${session.memberNick}" th:readonly="readonly"></td>
                    </tr>
                </table>
                <!-- ë‚´ìš©ì‘ì„± í¼ -->
                <textarea id="summernote" name="boardText" th:text="${boardText}"></textarea>
<!--                <input type="hidden" name="boardText" th:value="${boardText}" />-->

                <!-- summernote script -->
                <script th:inline="javascript">
                    $(document).ready(function() {
                        var content = /*[[${boardText}]]*/ '';
                        $('#summernote').summernote({
                            placeholder: 'ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.',
                            tabsize: 2,
                            height: 450,
                            width: 1200,
                            toolbar: [
                                ['style', ['style']],
                                ['font', ['bold', 'underline', 'clear']],
                                ['color', ['color']],
                                ['para', ['ul', 'ol', 'paragraph']],
                                ['table', ['table']],
                                ['insert', ['link', 'picture', 'video']],
                                ['view', ['fullscreen', 'codeview', 'help']]
                            ],

                        }).summernote('code', content);

                        // ê¸€ ë“±ë¡ì— ì„±ê³µ/ì‹¤íŒ¨í–ˆì„ ì‹œ ë©”ì‹œì§€
                        /*<![CDATA[*/
                        var successMessage = /*[[${successMessage}]]*/ '';
                        var errorMessage = /*[[${errorMessage}]]*/ '';
                        if (successMessage && successMessage !== '') {
                            setTimeout(function() {
                                alert(successMessage);
                                window.location.href = '/boardList';
                            }, 100);
                        }

                        if (errorMessage && errorMessage !== '') {
                            setTimeout(function() {
                                alert(errorMessage);
                            }, 100);
                        }
                        /*]]>*/
                    });
                </script>


            </form>

            <!-- footer ì‹œì‘ -->
            <div class="footer">
                <div class="footer-text">
                    <p>íšŒì‚¬ì •ë³´ <br>
                        ìƒí˜¸ : ê·¸ë¦° ì»´í“¨í„° <br>
                        ì£¼ì†Œ : ê²½ê¸°ë„ ìˆ˜ì›ì‹œ <br>
                        ê°œì¸ì •ë³´ê´€ë¦¬ ì±…ì„ì : ê¹€ê·¸ë¦° (Team2EmailService@gmail.com) <br>
                        ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸ : 111-11-1111
                    </p>
                    <p>
                        íšŒì‚¬ì†Œê°œ | ì‡¼í•‘ê°€ì´ë“œ | ê°œì¸ì •ë³´ë³´í˜¸ì •ì±… | ì´ìš©ì•½ê´€
                    </p>
                </div>
                <div class="footers">
                    <div class="footer-cs">
                        <p>
                            ê·¼ë¬´ì‹œê°„ : ì›” ~ ê¸ˆ AM 9:00 ~ PM 7:00 <br>
                            ì ì‹¬ì‹œê°„ : PM12 :00 ~ PM 1 : 00 <br>
                            ê³ ê°ì„¼í„° : AM 10: 00 ~ PM6 : 00
                        </p>
                    </div>
                    <div class="ours">
                        <p>ëª¨ë“  ì €ì‘ê¶Œì€ 2íŒ€ì—ê²Œ ìˆìŠµë‹ˆë‹¤. <br>
                            Copyright 2023. 2íŒ€ <br>
                            All rights reserved.
                        </p>
                    </div>
                </div>
            </div> <!-- footer ë -->
        </div> <!-- wrapperì˜ ë -->
        <script>
            //     ë¡œê·¸ì•„ì›ƒ
            function logout(event) {
                event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€

                const confirmed = confirm("ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
                if (confirmed) {
                    // ì„œë²„ë¡œ ë¡œê·¸ì•„ì›ƒ ìš”ì²­ì„ ë³´ë‚´ëŠ” Ajax ìš”ì²­ ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    // ì„¸ì…˜ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ì„œë²„ ì¸¡ì—ì„œ ì²˜ë¦¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

                    // ì„¸ì…˜ ì‚­ì œ í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                    window.location.href = "/logout";
                }
            }
        </script>
    </div>
</body>

</html>